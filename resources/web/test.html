<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

	<div class="container">
	<div class="row">
      <div id="textArea" contenteditable="true" style="">
								<p>Over the course of the Games, from 23rd June 2014 to 3rd
									August 2014, roughly 9 million Tweets were collected from
									Twitter using a combination of transport-related keywords
									(61%), hashtags (29%), and usernames (10%) or account holders
									(for example, @GamesTravel2014). These keywords, hashtags and
									usernames (a total of 339 items) were drawn from the Glasgow
									2014 website and available relevant documents as well as
									potential transport disruption keywords from literature
									(Dehkharghani et al., 2014; Gal-Tzur et al., 2014;
									GetReadyGlasgow, 2014; Khan et al., 2014; Mai and Hranac, 2013;
									Rudat et al., 2014; Shires and Barber, 2014; Ukkusuri et al.,
									2014). The defined keywords, hashtags, and usernames were input
									into a Twitter Monitoring Infrastructure (TMI) platform
									purposely developed for the research by a team of computer
									scientists from the dot.rural Digital Economy Research Hub at
									the University of Aberdeen. In this paper, we provide
									descriptive statistics using the @GamesTravel2014 account as a
									sample case. The @GamesTravel20142 Twitter account served as
									the official Twitter travel feed during the Games, providing
									travel information and advice to help attendees plan travel in
									advance and alert followers to transport changes or
									disruptions.</p>

								<p>The total number of Tweets captured during the event for
									the @gamestravel2014 account was 1067, with 865 as retweets and
									96 “reply to @gamestravel2014” Tweets. The 865 retweets
									included 446 individual Tweets, which were retweeted between 1
									and 9 times each. For information content coding purposes, only
									the original Tweet was considered, though all retweets were
									used when evaluating type of user retweeting. Each unique Tweet
									was coded by one researcher in the first instance using
									thematic analysis, allocating a primary and up to two secondary
									codes to each. This involved ascribing a category description
									to the issue(s) or topic(s) contained in the message, and at
									times noting the timeline being referred to (see Table 1). Our
									initial content analysis of the retweets looks at the primary
									category of Tweet as shown in Table 1. Categories were
									determined using a modified version of the approach described
									in (Naaman et al., 2010), with one member of the team assigning
									initial codes to a subset of Tweets. Two additional members of
									the project team then coded the Tweets based on this
									categorization, which resulted in overall moderate agreement.
									Following discussion and evaluation, categories were re-defined
									and reduced and participants took part in a second round of
									coding. In the recoding exercise, the level of agreement
									reached, as computed using Fleiss Kappa implementation in the R
									software package (Gamer et al., 2012), was substantial
									agreement (i.e. 0.61 – 0.80) with z-value of 39.4, p-value of 0
									and a kappa value of 0.65.</p>
							</div>
			</div>
			
			<div class="row">
				<button id="btn-highlight" class="btn">Highlight</button>
			</div>
    </div><!-- /.container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="assets/js/bootstrap.min.js"></script>


    <script type="text/javascript">
    	$(document)
		.ready(
			function() {
				$("#btn-highlight").click(function(){
					var t = getTextAreaSelection();
					highlight(t);
				});		
			});
    
    	function highlight(selection){
    		var text = selection['anchorNode']['data'];
    		var t = text.substring(0,selection['start']) + "<span style=\"background-color:rgb(153, 255, 51);\">" + text.substring(selection['start'], selection['end']) + "</span>"+text.substring(selection['end']);
    		$(selection['anchorNode']).replaceWith(t);
    		console.log(text);
    	}
    	
    	function getTextAreaSelection() {
			var t = {};
			if (window.getSelection()) {
				var s = window.getSelection();
				t.start = s.anchorOffset;
				t.end = s.focusOffset;
				t.anchorNode = s.anchorNode;
				t.string = String(s);
			} else if (document.getSelection()) {
				t.string = String(document.getSelection());
				console.log("2");
			} else if (document.selection()) {
				t.string = String(document.selection.createRange().text);
				console.log("3");
			}
			console.log(t);
			return t;
		}
    	
    </script>
  </body>
</html>